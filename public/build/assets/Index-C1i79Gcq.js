import{r as x,j as e,H as g,a as v,u as f}from"./app-uhljFjo-.js";import{I as o}from"./InputLabel-DHkknhcX.js";import{M as b}from"./Modal-LOLSzzto.js";import{P as N}from"./PrimaryButton-DxAD7fVD.js";import{S as y}from"./SecondaryButton-Cb-pp1iS.js";import{T as j}from"./TextInput-C31x4pke.js";import{A as w}from"./AdminLayout-BVqxDbRV.js";import"./transition-uFJtBX_F.js";import"./dialog-BN7N_xnT.js";import"./with-selector-BonvddMt.js";function O({auth:u,books:l,filters:n}){const[r,a]=x.useState(n.search||""),[h,i]=x.useState(!1),[m,d]=x.useState(null),p=s=>{s.preventDefault(),v.get(route("admin.books.index"),{search:r},{preserveState:!0})},t=s=>{confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙƒØªØ§Ø¨ØŸ")&&v.delete(route("admin.books.destroy",s),{preserveScroll:!0})},c=(s=null)=>{d(s),i(!0)};return e.jsxs(w,{user:u.user,header:e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"ğŸ“š Ù…ÙƒØªØ¨Ø© Ø¯Ø§Ø±ÙŠØ§ Ø§Ù„ØªØ¨Ø§Ø¯Ù„ÙŠØ©"}),children:[e.jsx(g,{title:"Ø§Ù„Ù…ÙƒØªØ¨Ø©"}),e.jsxs("div",{className:"px-6 py-12 lg:px-8",dir:"rtl",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[e.jsxs("form",{onSubmit:p,className:"relative w-96",children:[e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨...",className:"w-full rounded-lg border-slate-300 py-2 pl-10 pr-4 focus:ring-emerald-500",value:r,onChange:s=>a(s.target.value)}),e.jsx("button",{type:"submit",className:"absolute left-2 top-2 text-slate-400",children:"ğŸ”"})]}),e.jsxs("button",{onClick:()=>c(),className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 font-bold text-white transition hover:bg-emerald-700",children:[e.jsx("span",{children:"+"})," Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨"]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"border-b border-slate-200 bg-slate-50 text-xs font-bold uppercase text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ù…Ø¤Ù„Ù"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("th",{className:"px-6 py-4",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø¶Ø§ÙØ©"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:l.data.map(s=>e.jsxs("tr",{className:"transition hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.cover_image?e.jsx("img",{src:s.cover_image,alt:"",className:"h-10 w-10 rounded object-cover shadow-sm"}):e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded bg-slate-100 text-xl",children:"ğŸ“˜"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:s.title}),e.jsx("div",{className:"text-xs text-slate-500",children:s.condition})]})]})}),e.jsx("td",{className:"px-6 py-4 font-medium text-slate-600",children:s.author}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:s.category}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`rounded px-2 py-1 text-xs font-bold ${s.status==="available"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:s.status==="available"?"Ù…ØªØ§Ø­ Ù„Ù„ØªØ¨Ø§Ø¯Ù„":"ØªÙ… Ø§Ù„ØªØ¨Ø§Ø¯Ù„"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsxs("td",{className:"flex gap-2 px-6 py-4",children:[e.jsx("button",{onClick:()=>c(s),className:"rounded p-2 text-blue-600 hover:bg-blue-50",children:"âœï¸"}),e.jsx("button",{onClick:()=>t(s.id),className:"rounded p-2 text-red-600 hover:bg-red-50",children:"ğŸ—‘ï¸"})]})]},s.id))})]})})]}),e.jsx(_,{show:h,item:m,onClose:()=>i(!1)})]})}function _({show:u,item:l,onClose:n}){const{data:r,setData:a,post:h,processing:i,reset:m,errors:d}=f({title:"",author:"",category:"",condition:"Ø¬ÙŠØ¯Ø©",status:"available",contact_info:"",cover_image:null,_method:"POST"});x.useEffect(()=>{a(l?{title:l.title,author:l.author,category:l.category,condition:l.condition,status:l.status,contact_info:l.contact_info,cover_image:null,_method:"PUT"}:{title:"",author:"",category:"",condition:"Ø¬ÙŠØ¯Ø©",status:"available",contact_info:"",cover_image:null,_method:"POST"})},[l]);const p=t=>{t.preventDefault();const c=l?route("admin.books.update",l.id):route("admin.books.store");h(c,{onSuccess:()=>{m(),n()},forceFormData:!0})};return e.jsx(b,{show:u,onClose:n,children:e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsx("h2",{className:"mb-6 text-lg font-bold text-slate-900",children:l?"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨":"Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨"}),e.jsx(j,{value:r.title,onChange:t=>a("title",t.target.value),className:"mt-1 w-full",placeholder:"Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨..."}),d.title&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:d.title})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Ø§Ù„Ù…Ø¤Ù„Ù"}),e.jsx(j,{value:r.author,onChange:t=>a("author",t.target.value),className:"mt-1 w-full"}),d.author&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:d.author})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsxs("select",{value:r.category,onChange:t=>a("category",t.target.value),className:"mt-1 w-full rounded-lg border-slate-300",children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ±.."}),e.jsx("option",{value:"Ø±ÙˆØ§ÙŠØ§Øª",children:"Ø±ÙˆØ§ÙŠØ§Øª"}),e.jsx("option",{value:"Ø¹Ù„Ù…ÙŠ",children:"Ø¹Ù„Ù…ÙŠ"}),e.jsx("option",{value:"Ø¯ÙŠÙ†ÙŠ",children:"Ø¯ÙŠÙ†ÙŠ"}),e.jsx("option",{value:"ØªØ§Ø±ÙŠØ®",children:"ØªØ§Ø±ÙŠØ®"}),e.jsx("option",{value:"Ø£Ø·ÙØ§Ù„",children:"Ø£Ø·ÙØ§Ù„"}),e.jsx("option",{value:"Ø£Ø®Ø±Ù‰",children:"Ø£Ø®Ø±Ù‰"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Ø­Ø§Ù„Ø© Ø§Ù„ÙƒØªØ§Ø¨"}),e.jsxs("select",{value:r.condition,onChange:t=>a("condition",t.target.value),className:"mt-1 w-full rounded-lg border-slate-300",children:[e.jsx("option",{value:"Ø¬Ø¯ÙŠØ¯Ø©",children:"Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsx("option",{value:"Ø¬ÙŠØ¯Ø© Ø¬Ø¯Ø§Ù‹",children:"Ø¬ÙŠØ¯Ø© Ø¬Ø¯Ø§Ù‹"}),e.jsx("option",{value:"Ø¬ÙŠØ¯Ø©",children:"Ø¬ÙŠØ¯Ø©"}),e.jsx("option",{value:"Ù…Ù‚Ø¨ÙˆÙ„Ø©",children:"Ù…Ù‚Ø¨ÙˆÙ„Ø©"})]})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆÙØ±"}),e.jsxs("select",{value:r.status,onChange:t=>a("status",t.target.value),className:"mt-1 w-full rounded-lg border-slate-300",children:[e.jsx("option",{value:"available",children:"Ù…ØªØ§Ø­ Ù„Ù„ØªØ¨Ø§Ø¯Ù„ âœ…"}),e.jsx("option",{value:"exchanged",children:"ØªÙ… Ø§Ù„ØªØ¨Ø§Ø¯Ù„ ğŸ¤"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„"}),e.jsx(j,{value:r.contact_info,onChange:t=>a("contact_info",t.target.value),className:"mt-1 w-full",placeholder:"Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø£Ùˆ Ø­Ø³Ø§Ø¨..."})]}),e.jsxs("div",{children:[e.jsx(o,{value:"ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"file",onChange:t=>a("cover_image",t.target.files?t.target.files[0]:null),className:"mt-1 w-full text-sm text-slate-500 file:mr-4 file:rounded-full file:border-0 file:bg-emerald-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-emerald-700 hover:file:bg-emerald-100"})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(y,{onClick:n,children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(N,{disabled:i,className:"bg-emerald-600 hover:bg-emerald-700",children:l?"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª":"Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒØªØ§Ø¨"})]})]})})}export{O as default};

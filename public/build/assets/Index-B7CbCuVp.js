import{r as h,j as e,H as b,L as p,a as o,u as v}from"./app-uhljFjo-.js";import{I as j}from"./InputLabel-DHkknhcX.js";import{M as g}from"./Modal-LOLSzzto.js";import{P as N}from"./PrimaryButton-DxAD7fVD.js";import{S as y}from"./SecondaryButton-Cb-pp1iS.js";import{A as _}from"./AdminLayout-BVqxDbRV.js";import"./transition-uFJtBX_F.js";import"./dialog-BN7N_xnT.js";import"./with-selector-BonvddMt.js";function M({auth:s,users:r,filters:l}){const[i,n]=h.useState(l.search||""),[c,d]=h.useState(null),x=t=>{t.preventDefault(),o.get(route("admin.users.index"),{search:i,role:l.role,status:l.status},{preserveState:!0})},a=(t,m)=>{o.get(route("admin.users.index"),{...l,search:i,[t]:m},{preserveState:!0})},u=t=>{confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ")&&o.delete(route("admin.users.destroy",t),{preserveScroll:!0})},f=t=>{o.put(route("admin.users.update",t.id),{role:t.role,is_verified_official:!t.is_verified_official},{preserveScroll:!0})};return e.jsxs(_,{user:s.user,header:e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),children:[e.jsx(b,{title:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),e.jsxs("div",{className:"px-6 py-12 lg:px-8",dir:"rtl",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row",children:[e.jsxs("form",{onSubmit:x,className:"relative w-full md:w-96",children:[e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯...",className:"w-full rounded-lg border-slate-300 py-2 pl-10 pr-4 focus:border-emerald-500 focus:ring-emerald-500",value:i,onChange:t=>n(t.target.value)}),e.jsx("button",{type:"submit",className:"absolute left-2 top-2 text-slate-400",children:"ğŸ”"})]}),e.jsxs("div",{className:"flex w-full items-center gap-2 overflow-x-auto md:w-auto",children:[e.jsxs(p,{href:route("admin.users.map"),className:"flex items-center gap-2 whitespace-nowrap rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-bold text-indigo-700 transition hover:bg-indigo-100",children:[e.jsx("span",{children:"ğŸ—ºï¸"})," Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©"]}),e.jsxs("select",{className:"rounded-lg border-slate-300 text-sm",value:l.role||"all",onChange:t=>a("role",t.target.value),children:[e.jsx("option",{value:"all",children:"ÙƒÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±"}),e.jsx("option",{value:"user",children:"Ù…ÙˆØ§Ø·Ù†"}),e.jsx("option",{value:"official",children:"Ù…Ø³Ø¤ÙˆÙ„"}),e.jsx("option",{value:"institution",children:"Ù…Ø¤Ø³Ø³Ø©"}),e.jsx("option",{value:"admin",children:"Ù…Ø¯ÙŠØ±"})]}),e.jsxs("select",{className:"rounded-lg border-slate-300 text-sm",value:l.status||"",onChange:t=>a("status",t.target.value),children:[e.jsx("option",{value:"",children:"ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª"}),e.jsx("option",{value:"verified",children:"Ù…ÙˆØ«Ù‚ âœ…"}),e.jsx("option",{value:"pending",children:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªÙˆØ«ÙŠÙ‚ â³"})]})]})]}),e.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"border-b border-slate-200 bg-slate-50 text-xs font-bold uppercase text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø¯ÙˆØ±"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„ØªÙˆØ«ÙŠÙ‚"}),e.jsx("th",{className:"px-6 py-4",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:r.data.map(t=>e.jsxs("tr",{className:"transition hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-200 font-bold text-slate-600",children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900",children:t.name}),e.jsx("div",{className:"text-xs text-slate-500",children:t.email})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`rounded px-2 py-1 text-xs font-bold ${t.role==="admin"?"bg-rose-100 text-rose-700":t.role==="official"?"bg-blue-100 text-blue-700":t.role==="institution"?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-700"} `,children:t.role==="admin"?"Ù…Ø¯ÙŠØ± Ø¹Ø§Ù…":t.role==="official"?"Ù…Ø³Ø¤ÙˆÙ„":t.role==="institution"?"Ù…Ø¤Ø³Ø³Ø©":"Ù…ÙˆØ§Ø·Ù†"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>f(t),className:`flex items-center gap-1 rounded border px-2 py-1 text-xs font-bold transition ${t.is_verified_official?"border-emerald-200 bg-emerald-50 text-emerald-700 hover:border-red-200 hover:bg-red-50 hover:text-red-600":"border-slate-200 bg-slate-50 text-slate-400 hover:border-emerald-200 hover:bg-emerald-50 hover:text-emerald-700"} `,title:t.is_verified_official?"Ø§Ù†Ù‚Ø± Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙˆØ«ÙŠÙ‚":"Ø§Ù†Ù‚Ø± Ù„Ù„ØªÙˆØ«ÙŠÙ‚",children:t.is_verified_official?"âœ… Ù…ÙˆØ«Ù‚":"â¬œ ØºÙŠØ± Ù…ÙˆØ«Ù‚"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(t.created_at).toLocaleDateString()}),e.jsxs("td",{className:"flex items-center gap-2 px-6 py-4",children:[e.jsx("button",{onClick:()=>d(t),className:"rounded-lg p-2 text-blue-600 transition hover:bg-blue-50",title:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",children:"âœï¸"}),e.jsx("button",{onClick:()=>u(t.id),className:"rounded-lg p-2 text-rose-600 transition hover:bg-rose-50",title:"Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",children:"ğŸ—‘ï¸"})]})]},t.id))})]})}),e.jsx("div",{className:"flex justify-center border-t border-slate-200 bg-slate-50 p-4",children:e.jsx("div",{className:"flex gap-1",children:r.links.map((t,m)=>e.jsx(p,{href:t.url||"#",className:`rounded px-3 py-1 text-sm ${t.active?"bg-emerald-600 text-white":"text-slate-600 hover:bg-slate-200"} ${t.url?"":"pointer-events-none opacity-50"}`,dangerouslySetInnerHTML:{__html:t.label}},m))})})]})]}),e.jsx(w,{user:c,onClose:()=>d(null)})]})}function w({user:s,onClose:r}){if(!s)return null;const{data:l,setData:i,put:n,processing:c,reset:d}=v({role:s.role,department_id:s.department_id||"",is_verified_official:s.is_verified_official}),x=a=>{a.preventDefault(),n(route("admin.users.update",s.id),{onSuccess:()=>{r(),d()}})};return e.jsx(g,{show:!!s,onClose:r,children:e.jsxs("form",{onSubmit:x,className:"p-6",children:[e.jsxs("h2",{className:"mb-4 text-lg font-bold text-slate-900",children:["ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª: ",s.name]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{value:"Ø§Ù„Ø¯ÙˆØ± (Role)"}),e.jsxs("select",{className:"w-full rounded-lg border-slate-300",value:l.role,onChange:a=>i("role",a.target.value),children:[e.jsx("option",{value:"user",children:"Ù…ÙˆØ§Ø·Ù† (User)"}),e.jsx("option",{value:"official",children:"Ù…Ø³Ø¤ÙˆÙ„ Ø­ÙƒÙˆÙ…ÙŠ (Official)"}),e.jsx("option",{value:"institution",children:"Ù…Ø¤Ø³Ø³Ø© (Institution)"}),e.jsx("option",{value:"admin",children:"Ù…Ø¯ÙŠØ± (Admin)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"verified",className:"rounded border-slate-300 text-emerald-600 focus:ring-emerald-500",checked:l.is_verified_official,onChange:a=>i("is_verified_official",a.target.checked)}),e.jsx("label",{htmlFor:"verified",className:"text-sm font-bold text-slate-700",children:"Ø­Ø³Ø§Ø¨ Ù…ÙˆØ«Ù‚ Ø±Ø³Ù…ÙŠØ§Ù‹"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(y,{onClick:r,children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(N,{disabled:c,className:"bg-emerald-600 hover:bg-emerald-700",children:"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª"})]})]})})}export{M as default};

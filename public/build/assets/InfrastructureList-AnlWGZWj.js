import{r as d,j as e}from"./app-uhljFjo-.js";function p({initialPoints:i}){const[n,o]=d.useState(i||[]),[a,m]=d.useState(""),[c,r]=d.useState(null),x=(s,t)=>{r(s),o(n.map(l=>l.id===s?{...l,status:t}:l)),fetch(`/admin/infrastructure/${s}/status`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({status:t})}).then(()=>r(null)).catch(()=>{alert("Error updating status"),r(null)})},u=n.filter(s=>s.name&&s.name.includes(a)||s.type&&s.type.includes(a));return e.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold",children:[e.jsx("span",{children:"ğŸ›ï¸"})," Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©"]}),e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ù†Ù‚Ø·Ø© (Ù…Ø­ÙˆÙ„Ø©ØŒ Ø¨Ø¦Ø±)...",className:"w-64 rounded-lg border border-slate-200 px-4 py-2 text-sm focus:border-emerald-500 focus:ring-emerald-500",value:a,onChange:s=>m(s.target.value)})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 text-slate-500",children:[e.jsx("th",{className:"pb-3 pr-2",children:"Ø§Ù„Ù†ÙˆØ¹"}),e.jsx("th",{className:"pb-3",children:"Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ù…ÙˆÙ‚Ø¹"}),e.jsx("th",{className:"pb-3",children:"Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©"}),e.jsx("th",{className:"pb-3 pl-2 text-left",children:"ØªØ­ÙƒÙ… Ø³Ø±ÙŠØ¹"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:u.map(s=>e.jsxs("tr",{className:"group transition hover:bg-slate-50",children:[e.jsx("td",{className:"py-3 pr-2",children:e.jsx("span",{className:"text-xl",children:s.type==="transformer"?"âš¡":s.type==="well"?"ğŸ’§":"ğŸ“"})}),e.jsxs("td",{className:"py-3 font-bold text-slate-700",children:[s.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…",e.jsxs("div",{className:"text-[10px] font-normal text-slate-400",children:["ID: #",s.id]})]}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`rounded px-2 py-1 text-xs font-bold ${s.status==="active"?"bg-emerald-100 text-emerald-700":s.status==="maintenance"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:s.status==="active"?"ØªØ¹Ù…Ù„":s.status==="maintenance"?"ØµÙŠØ§Ù†Ø©":s.status==="stopped"?"Ù…ØªÙˆÙ‚ÙØ©":"Ø®Ø·Ø±"})}),e.jsxs("td",{className:"py-3 pl-2 text-left",children:[e.jsxs("select",{value:s.status,onChange:t=>x(s.id,t.target.value),disabled:c===s.id,className:"cursor-pointer rounded-lg border-slate-200 bg-white py-1 pl-2 pr-8 text-sm shadow-sm transition hover:border-slate-300 focus:border-emerald-500 focus:ring-emerald-500",children:[e.jsx("option",{value:"active",children:"ğŸŸ¢ ØªØ´ØºÙŠÙ„"}),e.jsx("option",{value:"maintenance",children:"ğŸŸ¡ ØµÙŠØ§Ù†Ø©"}),e.jsx("option",{value:"stopped",children:"ğŸ”´ Ø¥ÙŠÙ‚Ø§Ù"})]}),c===s.id&&e.jsx("span",{className:"ml-2 animate-pulse text-xs text-slate-400",children:"..."})]})]},s.id))})]})})]})}export{p as default};

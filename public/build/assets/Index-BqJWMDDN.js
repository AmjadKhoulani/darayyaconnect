import{r as n,j as e,H as R,a as u,u as M}from"./app-DPPIW0ZM.js";import{I as d}from"./InputLabel-B8wVoLxi.js";import{M as f}from"./Modal-CXcjLaRM.js";import{P as T}from"./PrimaryButton-B59pLkHB.js";import{S as b}from"./SecondaryButton-DHdt4ATl.js";import{T as g}from"./TextInput-BoV01MS3.js";import{A as D}from"./AdminLayout-UWl5dbCT.js";import"./transition-CWahGR5l.js";import"./dialog-ue-njuBb.js";import"./with-selector-Bw--uu76.js";function z({auth:h,initiatives:a,filters:c}){const[i,l]=n.useState(c.search||""),[m,x]=n.useState(!1),[p,r]=n.useState(!1),[o,s]=n.useState(""),[j,N]=n.useState(null),[y,w]=n.useState(null),S=t=>{t.preventDefault(),u.get(route("admin.initiatives.index"),{search:i},{preserveState:!0})},C=t=>{confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©ØŸ")&&u.delete(route("admin.initiatives.destroy",t))},_=t=>{confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©ØŸ")&&u.post(route("admin.initiatives.approve",t))},I=t=>{w(t),s(""),r(!0)},k=()=>{o.trim()&&u.post(route("admin.initiatives.reject",y.id),{reason:o},{onSuccess:()=>r(!1)})},v=(t=null)=>{N(t),x(!0)};return e.jsxs(D,{user:h.user,header:e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"ğŸ—³ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª"}),children:[e.jsx(R,{title:"Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª"}),e.jsxs("div",{className:"px-6 py-12 lg:px-8",dir:"rtl",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[e.jsxs("form",{onSubmit:S,className:"relative w-96",children:[e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¨Ø§Ø¯Ø±Ø©...",className:"w-full rounded-lg border-slate-300 py-2 pl-10 pr-4 focus:ring-emerald-500",value:i,onChange:t=>l(t.target.value)}),e.jsx("button",{type:"submit",className:"absolute left-2 top-2 text-slate-400",children:"ğŸ”"})]}),e.jsxs("button",{onClick:()=>v(),className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 font-bold text-white transition hover:bg-emerald-700",children:[e.jsx("span",{children:"+"})," Ø¥Ø¶Ø§ÙØ© Ù…Ø¨Ø§Ø¯Ø±Ø©"]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"border-b border-slate-200 bg-slate-50 text-xs font-bold uppercase text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø© / Ø§Ù„Ù…Ø¹Ù„Ù†"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø£ØµÙˆØ§Øª"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚"}),e.jsx("th",{className:"px-6 py-4",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:a.data.map(t=>e.jsxs("tr",{className:"transition hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon||"ğŸ“Œ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:t.title}),e.jsxs("div",{className:"text-[10px] text-emerald-600 font-bold",children:["Ø¨ÙˆØ§Ø³Ø·Ø©: ",t.user?.name||"Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ù‡ÙˆÙ„"]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:t.category}),e.jsxs("td",{className:"px-6 py-4 font-bold text-blue-600",children:[t.votes_count," ğŸ‘"]}),e.jsxs("td",{className:"px-6 py-4 font-medium",children:[e.jsx("span",{className:`rounded-full px-2.5 py-1 text-[10px] font-black uppercase tracking-wider ${t.moderation_status==="approved"?"bg-emerald-100 text-emerald-700":t.moderation_status==="rejected"?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"}`,children:t.moderation_status==="approved"?"ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©":t.moderation_status==="rejected"?"Ù…Ø±ÙÙˆØ¶Ø©":"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"}),t.rejection_reason&&e.jsxs("div",{className:"mt-1 text-[10px] text-rose-500 max-w-[150px] truncate",title:t.rejection_reason,children:["Ø§Ù„Ø³Ø¨Ø¨: ",t.rejection_reason]})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[t.moderation_status!=="approved"&&e.jsx("button",{onClick:()=>_(t.id),className:"rounded-lg bg-emerald-50 p-2 text-emerald-600 hover:bg-emerald-600 hover:text-white transition-all shadow-sm",title:"Ù…ÙˆØ§ÙÙ‚Ø©",children:"âœ…"}),t.moderation_status!=="rejected"&&e.jsx("button",{onClick:()=>I(t),className:"rounded-lg bg-rose-50 p-2 text-rose-600 hover:bg-rose-600 hover:text-white transition-all shadow-sm",title:"Ø±ÙØ¶",children:"âŒ"}),e.jsx("div",{className:"w-px h-8 bg-slate-100 mx-1"}),e.jsx("button",{onClick:()=>v(t),className:"rounded-lg bg-blue-50 p-2 text-blue-600 hover:bg-blue-600 hover:text-white transition-all shadow-sm",children:"âœï¸"}),e.jsx("button",{onClick:()=>C(t.id),className:"rounded-lg bg-slate-50 p-2 text-slate-600 hover:bg-slate-900 hover:text-white transition-all shadow-sm",children:"ğŸ—‘ï¸"})]})})]},t.id))})]})})]}),e.jsx(O,{show:m,item:j,onClose:()=>x(!1)}),e.jsx(f,{show:p,onClose:()=>r(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"ğŸš« Ø±ÙØ¶ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©"}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶ Ù„ØªÙˆØ¶ÙŠØ­Ù‡ Ù„ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©:"}),e.jsx("textarea",{value:o,onChange:t=>s(t.target.value),className:"w-full h-32 rounded-xl border-slate-300 focus:ring-rose-500 focus:border-rose-500 text-sm p-4",placeholder:"Ù…Ø«Ù„Ø§Ù‹: Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ØºÙŠØ± Ù„Ø§Ø¦Ù‚ØŒ Ø£Ùˆ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± ÙƒØ§ÙÙŠØ©..."}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(b,{onClick:()=>r(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:k,disabled:!o.trim(),className:"bg-rose-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-rose-700 disabled:opacity-50 transition-all",children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±ÙØ¶"})]})]})})]})}function O({show:h,item:a,onClose:c}){const{data:i,setData:l,post:m,processing:x,reset:p,errors:r}=M({title:"",description:"",category:"",status:"active",icon:"",image:null,_method:"POST"});n.useEffect(()=>{l(a?{title:a.title,description:a.description,category:a.category||"",status:a.status,icon:a.icon||"",image:null,_method:"PUT"}:{title:"",description:"",category:"",status:"active",icon:"",image:null,_method:"POST"})},[a]);const o=s=>{s.preventDefault();const j=a?route("admin.initiatives.update",a.id):route("admin.initiatives.store");m(j,{onSuccess:()=>{p(),c()},forceFormData:!0})};return e.jsx(f,{show:h,onClose:c,children:e.jsxs("form",{onSubmit:o,className:"p-6",children:[e.jsx("h2",{className:"mb-6 text-lg font-bold text-slate-900",children:a?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©":"Ø¥Ø·Ù„Ø§Ù‚ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©"}),e.jsx(g,{value:i.title,onChange:s=>l("title",s.target.value),className:"mt-1 w-full",placeholder:"Ù…Ø«Ø§Ù„: Ø­Ù…Ù„Ø© ØªØ´Ø¬ÙŠØ± Ø§Ù„Ø­ÙŠ"}),r.title&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.title})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ù„ÙˆØµÙ"}),e.jsx("textarea",{value:i.description,onChange:s=>l("description",s.target.value),className:"mt-1 h-24 w-full rounded-lg border-slate-300",placeholder:"Ø§Ø´Ø±Ø­ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©..."}),r.description&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ù„ØªØµÙ†ÙŠÙ"}),e.jsxs("select",{value:i.category,onChange:s=>l("category",s.target.value),className:"mt-1 w-full rounded-lg border-slate-300",children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ±.."}),e.jsx("option",{value:"Ø¨ÙŠØ¦Ø©",children:"Ø¨ÙŠØ¦Ø©"}),e.jsx("option",{value:"ØªØ¹Ù„ÙŠÙ…",children:"ØªØ¹Ù„ÙŠÙ…"}),e.jsx("option",{value:"ØµØ­Ø©",children:"ØµØ­Ø©"}),e.jsx("option",{value:"Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",children:"Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ"}),e.jsx("option",{value:"Ø¥ØºØ§Ø«Ø©",children:"Ø¥ØºØ§Ø«Ø©"})]})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsxs("select",{value:i.status,onChange:s=>l("status",s.target.value),className:"mt-1 w-full rounded-lg border-slate-300",children:[e.jsx("option",{value:"active",children:"Ø¬Ø§Ø±ÙŠØ© (Ù†Ø´Ø·Ø©)"}),e.jsx("option",{value:"completed",children:"Ù…ÙƒØªÙ…Ù„Ø©"}),e.jsx("option",{value:"pending",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"}),e.jsx("option",{value:"cancelled",children:"Ù…Ù„ØºØ§Ø©"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø±Ù…Ø² ØªØ¹Ø¨ÙŠØ±ÙŠ)"}),e.jsx(g,{value:i.icon,onChange:s=>l("icon",s.target.value),className:"mt-1 w-full text-center text-xl",placeholder:"ğŸŒ±",maxLength:2})]}),e.jsxs("div",{children:[e.jsx(d,{value:"ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"file",onChange:s=>l("image",s.target.files?s.target.files[0]:null),className:"mt-1 w-full text-sm text-slate-500 file:mr-4 file:rounded-full file:border-0 file:bg-emerald-50 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-emerald-700 hover:file:bg-emerald-100"})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(b,{onClick:c,children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(T,{disabled:x,className:"bg-emerald-600 hover:bg-emerald-700",children:a?"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª":"Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©"})]})]})})}export{z as default};

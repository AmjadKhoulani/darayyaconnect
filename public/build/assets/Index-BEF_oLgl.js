import{r as u,j as e,H as b,a as j,u as v}from"./app-DPPIW0ZM.js";import{I as d}from"./InputLabel-B8wVoLxi.js";import{M as f}from"./Modal-CXcjLaRM.js";import{P as N}from"./PrimaryButton-B59pLkHB.js";import{S as y}from"./SecondaryButton-DHdt4ATl.js";import{T as o}from"./TextInput-BoV01MS3.js";import{A as w}from"./AdminLayout-UWl5dbCT.js";import"./transition-CWahGR5l.js";import"./dialog-ue-njuBb.js";import"./with-selector-Bw--uu76.js";function B({auth:x,generators:s,filters:n}){const[l,r]=u.useState(n.search||""),[p,i]=u.useState(!1),[h,m]=u.useState(null),c=a=>{a.preventDefault(),j.get(route("admin.generators.index"),{search:l},{preserveState:!0})},g=a=>{confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©ØŸ")&&j.delete(route("admin.generators.destroy",a))},t=(a=null)=>{m(a),i(!0)};return e.jsxs(w,{user:x.user,header:e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"ğŸ”Œ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù…Ø¨ÙŠØ±Ø§Øª"}),children:[e.jsx(b,{title:"Ø§Ù„Ø£Ù…Ø¨ÙŠØ±Ø§Øª"}),e.jsxs("div",{className:"px-6 py-12 lg:px-8",dir:"rtl",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[e.jsxs("form",{onSubmit:c,className:"relative w-96",children:[e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆÙ„Ø¯Ø©...",className:"w-full rounded-lg border-slate-300 py-2 pl-10 pr-4 focus:ring-emerald-500",value:l,onChange:a=>r(a.target.value)}),e.jsx("button",{type:"submit",className:"absolute left-2 top-2 text-slate-400",children:"ğŸ”"})]}),e.jsxs("button",{onClick:()=>t(),className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 font-bold text-white transition hover:bg-emerald-700",children:[e.jsx("span",{children:"+"})," Ø¥Ø¶Ø§ÙØ© Ù…ÙˆÙ„Ø¯Ø©"]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"border-b border-slate-200 bg-slate-50 text-xs font-bold uppercase text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø­ÙŠ"}),e.jsx("th",{className:"px-6 py-4",children:"Ø³Ø¹Ø± Ø§Ù„Ø£Ù…Ø¨ÙŠØ±"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("th",{className:"px-6 py-4",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:s.data.map(a=>e.jsxs("tr",{className:"transition hover:bg-slate-50",children:[e.jsx("td",{className:"px-6 py-4 font-bold text-slate-800",children:a.name}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.neighborhood}),e.jsxs("td",{className:"px-6 py-4 font-bold text-emerald-600",children:[a.ampere_price.toLocaleString()," Ù„.Ø³"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`rounded px-2 py-1 text-xs font-bold ${a.status==="active"?"bg-emerald-100 text-emerald-700":a.status==="maintenance"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:a.status==="active"?"ØªØ¹Ù…Ù„ âœ…":a.status==="maintenance"?"ØµÙŠØ§Ù†Ø© ğŸ› ï¸":"Ù…ØªÙˆÙ‚ÙØ© âŒ"})}),e.jsxs("td",{className:"flex gap-2 px-6 py-4",children:[e.jsx("button",{onClick:()=>t(a),className:"rounded p-2 text-blue-600 hover:bg-blue-50",children:"âœï¸"}),e.jsx("button",{onClick:()=>g(a.id),className:"rounded p-2 text-red-600 hover:bg-red-50",children:"ğŸ—‘ï¸"})]})]},a.id))})]})})]}),e.jsx(S,{show:p,item:h,onClose:()=>i(!1)})]})}function S({show:x,item:s,onClose:n}){const{data:l,setData:r,post:p,put:i,processing:h,reset:m,errors:c}=v({name:s?.name||"",neighborhood:s?.neighborhood||"",ampere_price:s?.ampere_price||"",status:s?.status||"active",latitude:s?.latitude||33.5,longitude:s?.longitude||36.3});u.useState(()=>{s&&r({name:s.name,neighborhood:s.neighborhood,ampere_price:s.ampere_price,status:s.status,latitude:s.latitude,longitude:s.longitude})});const g=t=>{t.preventDefault(),s?i(route("admin.generators.update",s.id),{onSuccess:n}):p(route("admin.generators.store"),{onSuccess:()=>{m(),n()}})};return e.jsx(f,{show:x,onClose:n,children:e.jsxs("form",{onSubmit:g,className:"p-6",children:[e.jsx("h2",{className:"mb-6 text-lg font-bold text-slate-900",children:s?"ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆÙ„Ø¯Ø©":"Ø¥Ø¶Ø§ÙØ© Ù…ÙˆÙ„Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©"}),e.jsx(o,{value:l.name,onChange:t=>r("name",t.target.value),className:"mt-1 w-full",placeholder:"Ù…Ø«Ø§Ù„: Ù…ÙˆÙ„Ø¯Ø© Ø§Ù„Ø­Ù…Ø¯"}),c.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ù„Ø­ÙŠ / Ø§Ù„Ù…Ù†Ø·Ù‚Ø©"}),e.jsx(o,{value:l.neighborhood,onChange:t=>r("neighborhood",t.target.value),className:"mt-1 w-full",placeholder:"Ù…Ø«Ø§Ù„: Ø§Ù„ÙƒÙˆØ±Ù†ÙŠØ´"})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Ø³Ø¹Ø± Ø§Ù„Ø£Ù…Ø¨ÙŠØ± (Ù„.Ø³)"}),e.jsx(o,{type:"number",value:l.ampere_price,onChange:t=>r("ampere_price",t.target.value),className:"mt-1 w-full"})]})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ©"}),e.jsxs("select",{value:l.status,onChange:t=>r("status",t.target.value),className:"mt-1 w-full rounded-lg border-slate-300 focus:ring-emerald-500",children:[e.jsx("option",{value:"active",children:"ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ âœ…"}),e.jsx("option",{value:"maintenance",children:"ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø© ğŸ› ï¸"}),e.jsx("option",{value:"down",children:"Ù…ØªÙˆÙ‚ÙØ© âŒ"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ (Latitude)"}),e.jsx(o,{type:"number",step:"any",value:l.latitude,onChange:t=>r("latitude",parseFloat(t.target.value)),className:"mt-1 w-full"})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ (Longitude)"}),e.jsx(o,{type:"number",step:"any",value:l.longitude,onChange:t=>r("longitude",parseFloat(t.target.value)),className:"mt-1 w-full"})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(y,{onClick:n,children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(N,{disabled:h,className:"bg-emerald-600 hover:bg-emerald-700",children:s?"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª":"Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©"})]})]})})}export{B as default};

<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\AiStudy;
use App\Models\Initiative;
use App\Models\User;
use Illuminate\Support\Facades\DB;

class AwarenessContentSeeder extends Seeder
{
    public function run(): void
    {
        $admin = User::where('role', 'admin')->first();
        $adminId = $admin ? $admin->id : 1;

        // 1. Clean Daraya Initiative
        Initiative::updateOrCreate(
            ['title' => 'مبادرة داريا النظيفة – Clean Daraya'],
            [
                'user_id' => $adminId,
                'description' => 'حملة مجتمعية شاملة تهدف لتحويل أحياء داريا إلى مساحات خضراء ونظيفة. تبدأ الحملة من تنظيف الشوارع الرئيسية وصولاً إلى زراعة الأشجار في الساحات العامة.',
                'status' => 'active',
                'votes_count' => 450,
            ]
        );

        AiStudy::updateOrCreate(
            ['title' => 'ثقافة النظافة والحفاظ على البيئة'],
            [
                'category' => 'awareness',
                'summary' => 'دليل عملي للمواطن حول أهمية النظافة العامة ودورها في الصحة العامة وجمالية المدينة.',
                'content' => 'النظافة ليست مجرد سلوك فردي، بل هي مرآة تعكس ثقافة المجتمع. في هذه المقالة، نتناول كيفية الإدارة المنزلية للنفايات، وأهمية فصل المواد القابلة لإعادة التدوير، وكيف نساهم جميعاً في الحفاظ على الحاويات العامة نظيفة.',
                'is_published' => true,
            ]
        );

        // 2. Civil Behavior Guide
        AiStudy::updateOrCreate(
            ['title' => 'دليل السلوك المدني: فن التعامل في الأماكن العامة'],
            [
                'category' => 'education',
                'summary' => 'مجموعة من القواعد البسيطة والراقية التي تضمن التعايش السلمي والمحترم بين سكان المدينة.',
                'content' => 'السلوك المدني يبدأ بكلمة طيبة وينتهي باحترام دور الآخرين. يتناول هذا الدليل آداب المشي، التحدث بصوت منخفض في المواصلات العامة، عدم إلقاء الورق في الشارع، واحترام خصوصية الجار. إن الالتزام بهذه القواعد يبني مدينة يسودها الود.',
                'is_published' => true,
            ]
        );

        // 3. Fake News Awareness
        AiStudy::updateOrCreate(
            ['title' => 'خليك واعي: كيف تتعامل مع الإشاعات والأخبار الكاذبة'],
            [
                'category' => 'awareness',
                'summary' => 'دليلك للتحقق من صحة المعلومات قبل نشرها، وحماية المجتمع من التضليل.',
                'content' => 'في عصر السرعة، تنتشر الإشاعة أسرع من الحقيقة. تعلم كيفية تمييز العناوين المضللة، التحقق من تاريخ الصور، والتأكد من المصادر الرسمية قبل الضغط على زر المشاركة. إن وعيك هو خط الدفاع الأول عن استقرار المدينة.',
                'is_published' => true,
            ]
        );

        // 4. Global Experiences
        AiStudy::updateOrCreate(
            ['title' => 'تجربة سنغافورة: الإدارة الذكية لموارد المياه'],
            [
                'category' => 'global',
                'summary' => 'كيف تحولت دولة صغيرة من استيراد المياه إلى تحقيق الاكتفاء الذاتي والتصدير.',
                'content' => 'تعتمد سنغافورة على تقنية NEWater وهي إعادة تدوير مياه الصرف الصحي بمعايير عالمية، بالإضافة إلى تجميع مياه الأمطار بدقة عالية. يمكننا تعلم دروس هامة من هذا النموذج في كفاءة الاستهلاك والتحلية.',
                'is_published' => true,
            ]
        );

        AiStudy::updateOrCreate(
            ['title' => 'كوبنهاجن: المدينة التي تتنفس عبر الدراجات'],
            [
                'category' => 'global',
                'summary' => 'نموذج رائد في تقليل الانبعاثات الكربونية عبر تصميم طرق ذكية للدراجات الهوائية.',
                'content' => 'في كوبنهاجن، الدراجة هي الوسيلة الأولى للتنقل. تم تصميم البنية التحتية لتكون آمنة وسريعة لمستخدمي الدراجات، مما قلل الازدحام المروري وحسن من صحة المواطنين وجودة الهواء.',
                'is_published' => true,
            ]
        );

        // 5. Scientific Studies
        AiStudy::updateOrCreate(
            ['title' => 'دراسة: مرونة الشبكة الكهربائية في المناطق ذات الكثافة العالية'],
            [
                'category' => 'studies',
                'summary' => 'بحث حول توزيع الأحمال الكهربائية لتقليل انقطاع التيار المفاجئ.',
                'content' => 'تناقش هذه الدراسة الحلول التقنية لتوزيع الحمولات عبر محولات ذكية قادرة على موازنة الطلب في أوقات الذروة. تهدف الدراسة لتقليل الفاقد الفني وتحسين ساعات الوصل الكهربائي.',
                'is_published' => true,
            ]
        );
    }
}
